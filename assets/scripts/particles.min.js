var Particles=function(t,e){function i(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}var n=function(){return function(){this.defaults={responsive:null,selector:null,maxParticles:100,sizeVariations:3,showParticles:!0,speed:.5,color:"#000000",minDistance:120,connectParticles:!1},this.element=null,this.context=null,this.ratio=null,this.breakpoints=[],this.activeBreakpoint=null,this.breakpointSettings=[],this.originalSettings=null,this.storage=[],this.usingPolyfill=!1}}();n.prototype.init=function(t){return this.options=this._extend(this.defaults,t),this.originalSettings=JSON.parse(JSON.stringify(this.options)),this._animate=this._animate.bind(this),this._initializeCanvas(),this._initializeEvents(),this._registerBreakpoints(),this._checkResponsive(),this._initializeStorage(),this._animate(),this},n.prototype.destroy=function(){this.storage=[],this.element.remove(),t.removeEventListener("resize",this.listener,!1),t.clearTimeout(this._animation),cancelAnimationFrame(this._animation)},n.prototype._initializeCanvas=function(){if(!this.options.selector)return console.warn("particles.js: No selector specified! Check https://github.com/marcbruederlin/particles.js#options"),!1;this.element=e.querySelector(this.options.selector),this.context=this.element.getContext("2d");const i=t.devicePixelRatio||1,n=this.context.webkitBackingStorePixelRatio||this.context.mozBackingStorePixelRatio||this.context.msBackingStorePixelRatio||this.context.oBackingStorePixelRatio||this.context.backingStorePixelRatio||1;this.ratio=i/n,this.element.width=this.element.offsetParent?this.element.offsetParent.clientWidth*this.ratio:this.element.clientWidth*this.ratio,this.element.offsetParent&&"BODY"===this.element.offsetParent.nodeName?this.element.height=t.innerHeight*this.ratio:this.element.height=this.element.offsetParent?this.element.offsetParent.clientHeight*this.ratio:this.element.clientHeight*this.ratio,this.element.style.width="100%",this.element.style.height="100%",this.context.scale(this.ratio,this.ratio)},n.prototype._initializeEvents=function(){this.listener=function(){this._resize()}.bind(this),t.addEventListener("resize",this.listener,!1)},n.prototype._initializeStorage=function(){this.storage=[];for(var t=this.options.maxParticles;t--;)this.storage.push(new s(this.context,this.options))},n.prototype._registerBreakpoints=function(){const t=this.options.responsive||null;if("object"==typeof t&&null!==t&&t.length){for(var e in t){var i=this.breakpoints.length-1,n=t[e].breakpoint;if(t.hasOwnProperty(e)){for(;i>=0;)this.breakpoints[i]&&this.breakpoints[i]===n&&this.breakpoints.splice(i,1),i--;this.breakpoints.push(n),this.breakpointSettings[n]=t[e].options}}this.breakpoints.sort(function(t,e){return e-t})}},n.prototype._checkResponsive=function(){var e=!1;if(this.options.responsive&&this.options.responsive.length&&null!==this.options.responsive){for(var i in e=null,this.breakpoints)this.breakpoints.hasOwnProperty(i)&&t.innerWidth<=this.breakpoints[i]&&(e=this.breakpoints[i]);null!==e?(this.activeBreakpoint=e,this.options=this._extend(this.options,this.breakpointSettings[e])):null!==this.activeBreakpoint&&(this.activeBreakpoint=null,e=null,this.options=this._extend(this.options,this.originalSettings))}},n.prototype._refresh=function(){this._initializeStorage(),this._drawPlugin()},n.prototype._resize=function(){this.element.width=this.element.offsetParent?this.element.offsetParent.clientWidth*this.ratio:this.element.clientWidth*this.ratio,this.element.offsetParent&&"BODY"===this.element.offsetParent.nodeName?this.element.height=t.innerHeight*this.ratio:this.element.height=this.element.offsetParent?this.element.offsetParent.clientHeight*this.ratio:this.element.clientHeight*this.ratio,this.context.scale(this.ratio,this.ratio),clearTimeout(this.windowDelay),this.windowDelay=t.setTimeout(function(){this._checkResponsive(),this._refresh()},50)},n.prototype._animate=function(){this._drawPlugin(),this._animation=t.requestAnimFrame(this._animate)},n.prototype.resumeAnimation=function(){this._animation||this._animate()},n.prototype.pauseAnimation=function(){if(this._animation){if(this.usingPolyfill)t.clearTimeout(this._animation);else(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame)(this._animation);this._animation=null}},n.prototype._drawPlugin=function(){const e=this.element.offsetParent?this.element.offsetParent.clientWidth:this.element.clientWidth;var n;n=this.element.offsetParent&&"BODY"===this.element.offsetParent.nodeName?t.innerHeight:this.element.offsetParent?this.element.offsetParent.clientHeight:this.element.clientHeight,this.context.clearRect(0,0,this.element.width,this.element.height);for(var s=this.storage.length;s--;){var o=this.storage[s];this.options.showParticles&&o._drawParticle(),o._updateCoordinates(e,n)}this.options.connectParticles&&(this.storage.sort(i),this._drawEdges())},n.prototype._drawEdges=function(){for(var t=0;t<this.storage.length;t++){const i=this.storage[t];this.context.beginPath();for(var e=t+1;e<this.storage.length;e++){const t=this.storage[e],n=i.x-t.x,s=i.y-t.y,o=Math.sqrt(n*n+s*s);if(Math.abs(n)>this.options.minDistance)break;o<=this.options.minDistance&&this._drawLine(i,t,1.2-o/this.options.minDistance)}this.context.stroke()}},n.prototype._drawLine=function(t,e,i){if(t.color===e.color)this.context.strokeStyle=this._addHexOpacity(t.color,i);else{const n=this.context.createLinearGradient(t.x,t.y,e.x,e.y);n.addColorStop(0,this._addHexOpacity(t.color,i)),n.addColorStop(1,this._addHexOpacity(e.color,i)),this.context.strokeStyle=n}this.context.moveTo(t.x,t.y),this.context.lineTo(e.x,e.y)},n.prototype._extend=function(t,e){return Object.keys(e).forEach(function(i){t[i]=e[i]}),t},n.prototype._addHexOpacity=function(t,e){return e=e<0?0:e>1?1:e,t+Math.floor(255*e).toString(16)};var s=function(i,n){this.context=i,this.options=n;const s=e.querySelector(n.selector);this.x=s.offsetParent?Math.random()*s.offsetParent.clientWidth:Math.random()*s.clientWidth,s.offsetParent&&"BODY"===s.offsetParent.nodeName?this.y=Math.random()*t.innerHeight:this.y=s.offsetParent?Math.random()*s.offsetParent.clientHeight:Math.random()*s.clientHeight,this.vx=Math.random()*n.speed*2-n.speed,this.vy=Math.random()*n.speed*2-n.speed,this.radius=Math.random()*Math.random()*n.sizeVariations,this.color=n.color instanceof Array?n.color[Math.floor(Math.random()*n.color.length)]:n.color};return s.prototype._drawParticle=function(){this.context.beginPath(),this.context.moveTo(this.x,this.y),this.context.fillStyle=this.color,this.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.context.fill()},s.prototype._updateCoordinates=function(t,e){var i=this.x+this.vx,n=this.y+this.vy,s=this.radius;i+s>t?i=s:i-s<0&&(i=t-s),n+s>e?n=s:n-s<0&&(n=e-s),this.x=i,this.y=n},t.requestAnimFrame=function(){const e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame;return e||(this._usingPolyfill=!0,function(e){return t.setTimeout(e,1e3/60)})}(),new n}(window,document);"function"==typeof define&&define.amd?define("Particles",function(){return Particles}):"undefined"!=typeof module&&module.exports?module.exports=Particles:window.Particles=Particles;